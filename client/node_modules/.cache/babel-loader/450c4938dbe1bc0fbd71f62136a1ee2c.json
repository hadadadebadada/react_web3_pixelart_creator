{"ast":null,"code":"var _jsxFileName = \"/home/bruh/Desktop/solidity_projects/crypto_pixel_art_creator/client/src/components/Pixelart.js\";\nimport React, { Component, useState } from 'react';\nimport \"./Pixelart.css\";\nimport html2canvas from \"html2canvas\"; //import { color } from 'html2canvas/dist/types/css/types/color';\n//import { color } from 'html2canvas/dist/types/css/types/color';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Pixelart extends Component {\n  // color = document.querySelector('.color')\n  constructor(props) {\n    super(props);\n\n    this.appendScreenshot = () => {\n      const container = document.querySelector(\"#container\");\n      html2canvas(container).then(canvas => {\n        const url = canvas.toDataURL(); //png file???\n\n        console.log(url);\n        document.querySelector(\"#container2\").appendChild(canvas);\n      });\n    };\n\n    this.state = {\n      isHovering: false,\n      colorPicker: \"#ffffff\"\n    };\n    console.log(\"colorState:\" + this.state.colorPicker);\n  }\n\n  componentDidMount() {\n    let draw = false;\n    let eraser = false;\n    let container = document.querySelector('.container');\n    let sizeEl = document.querySelector(\".size\");\n    let size = sizeEl.value;\n    const color = document.querySelector('.color');\n    let resetBtn = document.querySelector('.btn');\n    let eraserBtn = document.querySelector('.eraserBtn');\n    this.setState({\n      colorPicker: color.value\n    }, () => {\n      function populate(size) {\n        container.style.setProperty('--size', size);\n\n        for (let i = 0; i < size * size; i++) {\n          let div = document.createElement('div');\n          div.classList.add('pixel');\n          let colorPicker = getComputedStyle(div).getPropertyValue('--main-bg-color');\n          div.addEventListener('mouseover', function () {\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            if (!draw) return;\n            div.style.backgroundColor = color.value;\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            div.style.setProperty(\"--pixel-bg-color\", color.value);\n          });\n          div.addEventListener('mouseover', function () {\n            if (getComputedStyle(div).getPropertyValue('--pixel-bg-color') != getComputedStyle(div).getPropertyValue('--main-bg-color')) return;\n            div.style.backgroundColor = colorPicker;\n          });\n          div.addEventListener('mousedown', function () {\n            div.style.backgroundColor = color.value;\n            div.style.setProperty(\"--main-bg-color\", color.value);\n          });\n          /*    div.addEventListener('mouseout',function(){\n              \n               if(pixelColor != colorPicker) return\n               div.style.backgroundColor = colorPicker;\n               \n             }) */\n\n          div.addEventListener('mousedown', function () {\n            if (!eraser) return;\n            div.style.backgroundColor = \"#ffffff\";\n            div.style.setProperty(\"--main-bg-color\", \"#ffffff\");\n          });\n          div.addEventListener(\"mouseover\", function () {\n            if (!eraser) return;\n            div.style.backgroundColor = \"#ffffff\";\n          });\n          div.addEventListener(\"mouse\");\n          container.appendChild(div);\n        }\n      }\n\n      window.addEventListener(\"mousedown\", function () {\n        draw = true;\n      });\n      window.addEventListener(\"mouseup\", function () {\n        draw = false;\n      });\n\n      function reset() {\n        container.innerHTML = '';\n        populate(size);\n      }\n\n      function setColorWhite() {\n        if (!eraser) {\n          eraser = true;\n          console.log(eraser);\n        } else {\n          eraser = false;\n          console.log(eraser);\n        }\n      }\n\n      resetBtn.addEventListener('click', reset);\n      eraserBtn.addEventListener('click', setColorWhite);\n      /* resize grid when new value is added */\n\n      sizeEl.addEventListener('keyup', function () {\n        size = sizeEl.value;\n        reset();\n      });\n      populate(size);\n    });\n  }\n  /*     handleMouseEnter = () => {\n       let mycolor = document.querySelector('.color')\n       this.setState({isHovering: true, colorPicker: mycolor.value});\n     };\n   \n      handleMouseLeave = () => {\n       let mycolor = document.querySelector('.color')\n  \n       this.setState({isHovering: false, colorPicker: mycolor.value});\n     }; */\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Appi\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"eraserBtn\",\n          children: \"Eraser\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          valueDefault: \"#00eeff\",\n          id: \"color\",\n          class: \"color\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: \"10\",\n          class: \"size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        id: \"container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.appendScreenshot,\n        children: \"Load Canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container2\",\n        id: \"container2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default Pixelart;","map":{"version":3,"names":["React","Component","useState","html2canvas","Pixelart","constructor","props","appendScreenshot","container","document","querySelector","then","canvas","url","toDataURL","console","log","appendChild","state","isHovering","colorPicker","componentDidMount","draw","eraser","sizeEl","size","value","color","resetBtn","eraserBtn","setState","populate","style","setProperty","i","div","createElement","classList","add","getComputedStyle","getPropertyValue","addEventListener","backgroundColor","window","reset","innerHTML","setColorWhite","render"],"sources":["/home/bruh/Desktop/solidity_projects/crypto_pixel_art_creator/client/src/components/Pixelart.js"],"sourcesContent":["import React, { Component,useState } from 'react'\nimport \"./Pixelart.css\"\nimport html2canvas from \"html2canvas\"\n//import { color } from 'html2canvas/dist/types/css/types/color';\n//import { color } from 'html2canvas/dist/types/css/types/color';\n\nclass Pixelart extends Component {\n   // color = document.querySelector('.color')\n\n  constructor(props) {\n    super(props); \n  \n    this.state = {\n      isHovering: false,\n      colorPicker: \"#ffffff\"\n    \n    };\n    console.log(\"colorState:\" + this.state.colorPicker)\n  }\n  componentDidMount() {\n\n\n\n    let draw = false\n    let eraser = false\n    let container = document.querySelector('.container')\n    let sizeEl = document.querySelector(\".size\");\n    let size = sizeEl.value\n    const color = document.querySelector('.color')\n    let resetBtn = document.querySelector('.btn')\n    let eraserBtn = document.querySelector('.eraserBtn')\n\n\n  this.setState({colorPicker: color.value}, () => {\n\n      function populate(size) {\n\n        container.style.setProperty('--size', size)\n\n        for (let i = 0; i < size * size; i++) {\n          let div = document.createElement('div')\n          div.classList.add('pixel')\n\n\n          \n  \n    let colorPicker = getComputedStyle(div)\n    .getPropertyValue('--main-bg-color');\n\n\n\n          div.addEventListener('mouseover', function () {\n            div.style.setProperty(\"--main-bg-color\", color.value);\n          \n            \n            if (!draw) return\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            div.style.setProperty(\"--pixel-bg-color\", color.value);\n           \n      \n          })\n\n          div.addEventListener('mouseover',function(){\n   \n            if(getComputedStyle(div)\n            .getPropertyValue('--pixel-bg-color') != getComputedStyle(div)\n            .getPropertyValue('--main-bg-color')) return\n            div.style.backgroundColor = colorPicker;\n          })\n\n\n\n\n          div.addEventListener('mousedown', function () {\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n\n          })\n  \n       /*    div.addEventListener('mouseout',function(){\n           \n            if(pixelColor != colorPicker) return\n            div.style.backgroundColor = colorPicker;\n            \n          }) */\n  \n          div.addEventListener('mousedown', function () {\n            if (!eraser) return\n            div.style.backgroundColor = \"#ffffff\"\n            div.style.setProperty(\"--main-bg-color\", \"#ffffff\");\n\n          })\n\n          div.addEventListener(\"mouseover\",function(){\n            if (!eraser) return\n            div.style.backgroundColor = \"#ffffff\"\n          })\n\n          div.addEventListener(\"mouse\")\n  \n          container.appendChild(div)\n\n\n\n\n        }\n      }\n\n \n\n      window.addEventListener(\"mousedown\", function () {\n        draw = true\n        \n      })\n      window.addEventListener(\"mouseup\", function () {\n        draw = false\n      })\n      function reset() {\n        container.innerHTML = ''\n        populate(size)\n      }\n     \n      function setColorWhite() {\n        if (!eraser) {\n          eraser = true;\n          console.log(eraser)\n        } else {\n          eraser = false;\n          console.log(eraser)\n  \n        }    \n      }\n      resetBtn.addEventListener('click', reset)\n      eraserBtn.addEventListener('click', setColorWhite)\n\n\n      /* resize grid when new value is added */\n      sizeEl.addEventListener('keyup', function () {\n        size = sizeEl.value\n        reset()\n      })\n\n      \n\n      populate(size);\n\n    });\n    }\n\n\n\n\n\n   \n\n /*     handleMouseEnter = () => {\n      let mycolor = document.querySelector('.color')\n      this.setState({isHovering: true, colorPicker: mycolor.value});\n    };\n  \n     handleMouseLeave = () => {\n      let mycolor = document.querySelector('.color')\n\n\n      this.setState({isHovering: false, colorPicker: mycolor.value});\n    }; */\n\n    appendScreenshot = () => {\n\n        const container = document.querySelector(\"#container\");\n    \n        html2canvas(container).then((canvas) => {\n          const url = canvas.toDataURL(); //png file???\n          \n          console.log(url)\n    \n          document.querySelector(\"#container2\").appendChild(canvas);\n        });\n      }\n\nrender() {\n    return <div className=\"Appi\">\n\n        <div className=\"navbar\">\n            <button className=\"btn\">Reset</button>\n            <button className=\"eraserBtn\">Eraser</button>\n            <input type=\"color\" valueDefault=\"#00eeff\" id=\"color\" class=\"color\"></input>\n            <input type=\"number\" value=\"10\" class=\"size\"></input>\n\n        </div>\n\n\n\n        <div className=\"container\" id=\"container\"\n        \n        >\n   \n         \n   {/*        <div className=\"pixel\" id=\"pixel\"\n          \n          style={{\n            backgroundColor: this.state.isHovering ? 'white' : '',\n            backgroundColor: this.state.isHovering ? this.state.colorPicker : '',\n          }}\n          \n          onMouseEnter={this.handleMouseEnter}\n          onMouseLeave={this.handleMouseLeave}>\n            \n            </div>  */} \n          \n\n\n\n\n\n\n\n\n\n\n          \n          </div>\n          \n\n        \n\n        <button onClick={this.appendScreenshot}>Load Canvas</button>\n        <div className=\"container2\" id=\"container2\"></div>\n\n        {/* <h1>Hello, {this.props.name}</h1> */}\n       \n        \n        </div>;\n\n}\n}\n\nexport default Pixelart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}