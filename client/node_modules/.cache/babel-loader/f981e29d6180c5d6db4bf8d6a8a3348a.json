{"ast":null,"code":"import _classCallCheck from\"/home/brate/Desktop/pixelart_creator/pixelartur/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/brate/Desktop/pixelart_creator/pixelartur/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/brate/Desktop/pixelart_creator/pixelartur/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/brate/Desktop/pixelart_creator/pixelartur/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/brate/Desktop/pixelart_creator/pixelartur/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,useState}from'react';import\"./Pixelart.css\";import html2canvas from\"html2canvas\";//import { color } from 'html2canvas/dist/types/css/types/color';\n//import { color } from 'html2canvas/dist/types/css/types/color';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pixelart=/*#__PURE__*/function(_Component){_inherits(Pixelart,_Component);var _super=_createSuper(Pixelart);function Pixelart(props){var _this;_classCallCheck(this,Pixelart);_this=_super.call(this,props);_this.appendScreenshot=function(){var container=document.querySelector(\"#container\");html2canvas(container).then(function(canvas){var url=canvas.toDataURL();//png file\nconsole.log(url);//  base64 \n});};_this.updateDimensions=function(){_this.setState({width:window.innerWidth,height:window.innerHeight});};_this.state={colorPicker:\"#ffffff\",width:window.innerWidth,height:window.innerHeight};_this.width=_this.updateDimensions.bind(_assertThisInitialized(_this));_this.height=_this.updateDimensions.bind(_assertThisInitialized(_this));return _this;}_createClass(Pixelart,[{key:\"componentDidMount\",value:function componentDidMount(){var draw=false;var container=document.querySelector('.container');var sizeEl=document.querySelector(\".size\");var size=32;var color=document.querySelector('.color');var resetBtn=document.querySelector('#btn');var eraserBtn=document.querySelector('#eraserBtn');this.setState({colorPicker:color.value,width:window.innerWidth,height:window.innerHeight},function(){function populate(size){container.style.setProperty('--size',size);/*  container.style.setProperty(\"--gridsizeH\",\"400px\")\n        container.style.setProperty(\"--gridsizeW\",\"400px\") */var _loop=function _loop(i){var div=document.createElement('div');div.classList.add('pixel');var colorPicker=getComputedStyle(div).getPropertyValue('--main-bg-color');div.addEventListener('mouseover',function(){div.style.setProperty(\"--main-bg-color\",color.value);if(!draw)return;div.style.backgroundColor=color.value;div.style.setProperty(\"--main-bg-color\",color.value);div.style.setProperty(\"--pixel-bg-color\",color.value);});div.addEventListener('mouseover',function(){if(getComputedStyle(div).getPropertyValue('--pixel-bg-color')!=getComputedStyle(div).getPropertyValue('--main-bg-color'))return;div.style.backgroundColor=colorPicker;});div.addEventListener('mousedown',function(){div.style.backgroundColor=color.value;div.style.setProperty(\"--main-bg-color\",color.value);});/*   document.querySelector('.container').setProperty(\"--gridsizeH\",this.state.height)\n          document.querySelector('.container').setProperty(\"--gridsizeW\",this.state.width) */ /*    this.setState({width: window.innerWidth, height: window.innerHeight}, () => {\n            console.log(\"hi\")\n          }) */container.appendChild(div);};for(var i=0;i<size*size;i++){_loop(i);}}window.addEventListener(\"mousedown\",function(){draw=true;});window.addEventListener(\"mouseup\",function(){draw=false;});function reset(){container.innerHTML='';populate(size);}function setColorWhite(){color.value=\"#ffffff\";}resetBtn.addEventListener('click',reset);eraserBtn.addEventListener('click',setColorWhite);populate(size);});}},{key:\"render\",value:/* setContainerSize(){\n  document.querySelector('.container').setProperty(\"--gridsizeH\",\"400px\")\n  document.querySelector('.container').setProperty(\"--gridsizeW\",\"400px\") \n} */function render(){var myWidth=this.state.width*0.95;return/*#__PURE__*/_jsxs(\"div\",{className:\"Appi\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",style:{backgroundColor:\"#101522\"},children:[/*#__PURE__*/_jsx(\"button\",{id:\"btn\",class:\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold',fontSize:'200%'},children:\"Reset\"})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'30px'}}),/*#__PURE__*/_jsx(\"button\",{id:\"eraserBtn\",class:\"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\",children:/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold',fontSize:'200%'},children:\"Eraser\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",valueDefault:\"#00eeff\",id:\"color\",class:\"color\"})]}),/*#__PURE__*/_jsx(\"p\",{children:this.state.width<800?/*#__PURE__*/_jsx(\"div\",{style:{height:myWidth,width:myWidth},className:\"container\",id:\"container\"}):/*#__PURE__*/_jsx(\"div\",{style:{height:\"800px\",width:\"800px\"},className:\"container\",id:\"container\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:this.appendScreenshot,children:\"Load Canvas\"})]});}}]);return Pixelart;}(Component);export default Pixelart;","map":{"version":3,"names":["React","Component","useState","html2canvas","Pixelart","props","appendScreenshot","container","document","querySelector","then","canvas","url","toDataURL","console","log","updateDimensions","setState","width","window","innerWidth","height","innerHeight","state","colorPicker","bind","draw","sizeEl","size","color","resetBtn","eraserBtn","value","populate","style","setProperty","i","div","createElement","classList","add","getComputedStyle","getPropertyValue","addEventListener","backgroundColor","appendChild","reset","innerHTML","setColorWhite","myWidth","fontWeight","fontSize"],"sources":["/home/brate/Desktop/pixelart_creator/pixelartur/client/src/components/Pixelart.js"],"sourcesContent":["import React, { Component, useState } from 'react'\nimport \"./Pixelart.css\"\nimport html2canvas from \"html2canvas\"\n//import { color } from 'html2canvas/dist/types/css/types/color';\n//import { color } from 'html2canvas/dist/types/css/types/color';\n\nclass Pixelart extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      colorPicker: \"#ffffff\",\n      width: window.innerWidth, \n      height: window.innerHeight\n    };\n\n    this.width = this.updateDimensions.bind(this)\n    this.height = this.updateDimensions.bind(this)\n\n  }\n  componentDidMount() {\n\n\n\n    let draw = false\n    let container = document.querySelector('.container')\n    let sizeEl = document.querySelector(\".size\");\n    let size = 32\n    const color = document.querySelector('.color')\n    let resetBtn = document.querySelector('#btn')\n    let eraserBtn = document.querySelector('#eraserBtn')\n\n    this.setState({ colorPicker: color.value, width: window.innerWidth, height: window.innerHeight}, () => {\n\n  \n\n      function populate(size) {\n\n       \n        container.style.setProperty('--size', size)\n\n\n\n       /*  container.style.setProperty(\"--gridsizeH\",\"400px\")\n        container.style.setProperty(\"--gridsizeW\",\"400px\") */\n\n        for (let i = 0; i < size * size; i++) {\n          let div = document.createElement('div')\n          div.classList.add('pixel')\n\n          let colorPicker = getComputedStyle(div)\n            .getPropertyValue('--main-bg-color');\n\n          div.addEventListener('mouseover', function () {\n            div.style.setProperty(\"--main-bg-color\", color.value);\n\n\n            if (!draw) return\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            div.style.setProperty(\"--pixel-bg-color\", color.value);\n\n\n          })\n\n          div.addEventListener('mouseover', function () {\n\n            if (getComputedStyle(div)\n              .getPropertyValue('--pixel-bg-color') != getComputedStyle(div)\n                .getPropertyValue('--main-bg-color')) return\n            div.style.backgroundColor = colorPicker;\n          })\n\n          div.addEventListener('mousedown', function () {\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n\n          })\n        /*   document.querySelector('.container').setProperty(\"--gridsizeH\",this.state.height)\n          document.querySelector('.container').setProperty(\"--gridsizeW\",this.state.width) */\n\n       /*    this.setState({width: window.innerWidth, height: window.innerHeight}, () => {\n            console.log(\"hi\")\n          }) */\n         \n          container.appendChild(div)\n        }\n      }\n\n\n\n\n      window.addEventListener(\"mousedown\", function () {\n        draw = true\n      })\n      window.addEventListener(\"mouseup\", function () {\n        draw = false\n      })\n\n\n      function reset() {\n        container.innerHTML = ''\n        populate(size)\n      }\n\n      function setColorWhite() {\n        color.value = \"#ffffff\"\n      }\n\n      resetBtn.addEventListener('click', reset)\n      eraserBtn.addEventListener('click', setColorWhite)\n\n      populate(size);\n\n    });\n  }\n\n  appendScreenshot = () => {\n\n    const container = document.querySelector(\"#container\");\n\n    html2canvas(container).then((canvas) => {\n      const url = canvas.toDataURL(); //png file\n\n      console.log(url) //  base64 \n\n      \n    });\n  }\n\n  updateDimensions = () => {\n    this.setState({ width: window.innerWidth, height: window.innerHeight});\n    \n  \n\n};\n\n/* setContainerSize(){\n  document.querySelector('.container').setProperty(\"--gridsizeH\",\"400px\")\n  document.querySelector('.container').setProperty(\"--gridsizeW\",\"400px\") \n} */\n\n  render() {\n\n    let myWidth = this.state.width*0.95\n    return <div className=\"Appi\">\n\n      <div className=\"navbar\"\n             style={{\n              backgroundColor:\"#101522\"\n          }}\n      >\n\n        <button id=\"btn\" class=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\"><p style={{fontWeight:'bold', fontSize:'200%'}}>Reset</p></button>\n        {/* <button className=\"btn\">Reset</button> */}\n        <div style={{\n          width:'30px'\n        }}></div>\n        <button id=\"eraserBtn\" class=\"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\"><p style={{fontWeight:'bold', fontSize:'200%'}}>Eraser</p></button>\n       \n        <input type=\"color\" valueDefault=\"#00eeff\" id=\"color\" class=\"color\"></input>\n        {/* <input type=\"number\" value=\"32\" class=\"size\"></input> */}\n     </div>\n\n\n     <p>{this.state.width<800 ? (     \n       \n       \n       <div style={{height:myWidth, width:myWidth}}className=\"container\" id=\"container\"></div>\n\n\n) : <div style={{height:\"800px\", width:\"800px\"}}className=\"container\" id=\"container\"></div> }</p>\n\n   \n\n      <button onClick={this.appendScreenshot}>Load Canvas</button>\n\n     {/*   <div className=\"container2\" id=\"container2\"></div> */}\n\n\n    </div>;\n\n  }\n}\n\nexport default Pixelart;         "],"mappings":"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"},"metadata":{},"sourceType":"module"}