{"ast":null,"code":"var _jsxFileName = \"/home/brate/Desktop/web3_pixelart_full/react_web3_pixelart_creator/client/src/components/startpage/pixelartcreator/Pixelart.js\";\nimport React, { Component } from 'react';\nimport \"./Pixelart.css\";\nimport html2canvas from \"html2canvas\";\nimport OnChainNFTContract from \"../../../contracts/OnChainNFT.json\";\nimport getWeb3 from \"../../../getWeb3\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Button2 = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  background: yellow;\n  font-size: 10em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n  &:hover {\n    color: orange; \n    background: black;}\n\n    @media screen and (max-width: 960px) {\n      font-size: 3em;\n\n    }\n\n`;\n_c = Button2;\nconst Input = styled.input`\n  font-size: 18px;\n  padding: 10px;\n  width:35%;\n  margin: 10px;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  ::placeholder {\n    color: palevioletred;\n  }\n  &:hover {\n    color: orange; \n  }\n\n  @media screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\n\nclass Pixelart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      try {\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = OnChainNFTContract.networks[networkId];\n        const instance = new web3.eth.Contract(OnChainNFTContract.abi, deployedNetwork && deployedNetwork.address); // instance.methods.tokenURI(1).call()\n        // .then(res => {\n        //   console.log(res);\n        // });\n        // Set web3, accounts, and contract to the state, and then proceed with an\n        // example of interacting with the contract's methods.\n\n        this.setState({\n          web3,\n          accounts,\n          contract: instance\n        }\n        /* this.runExample */\n        );\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n\n      let draw = false;\n      let container = document.querySelector('.container');\n      let size = 32;\n      const color = document.querySelector('.color');\n      let resetBtn = document.querySelector('#btn');\n      let eraserBtn = document.querySelector('#eraserBtn');\n      this.setState({\n        colorPicker: color.value,\n        width: window.innerWidth,\n        height: window.innerHeight\n      }, () => {\n        function populate(size) {\n          container.style.setProperty('--size', size);\n\n          for (let i = 0; i < size * size; i++) {\n            let div = document.createElement('div');\n            div.classList.add('pixel');\n            let colorPicker = getComputedStyle(div).getPropertyValue('--main-bg-color');\n            div.addEventListener('mouseover', function () {\n              div.style.setProperty(\"--main-bg-color\", color.value);\n              if (!draw) return;\n              div.style.backgroundColor = color.value;\n              div.style.setProperty(\"--main-bg-color\", color.value);\n              div.style.setProperty(\"--pixel-bg-color\", color.value);\n            });\n            div.addEventListener('mouseover', function () {\n              if (getComputedStyle(div).getPropertyValue('--pixel-bg-color') !== getComputedStyle(div).getPropertyValue('--main-bg-color')) return;\n              div.style.backgroundColor = colorPicker;\n            });\n            div.addEventListener('mousedown', function () {\n              div.style.backgroundColor = color.value;\n              div.style.setProperty(\"--main-bg-color\", color.value);\n            });\n            container.appendChild(div);\n          }\n        }\n\n        window.addEventListener(\"mousedown\", function () {\n          draw = true;\n        });\n        window.addEventListener(\"mouseup\", function () {\n          draw = false;\n        });\n\n        function reset() {\n          container.innerHTML = '';\n          populate(size);\n        }\n\n        function setColorWhite() {\n          color.value = \"#ffffff\";\n        }\n\n        resetBtn.addEventListener('click', reset);\n        eraserBtn.addEventListener('click', setColorWhite);\n        populate(size);\n      });\n    };\n\n    this.updateDimensions = () => {\n      this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n\n    this.connect = async () => {\n      /*     if (window.ethereum) {\n            try {\n              const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n              this.setState({accounts: accounts});\n              alert( accounts)\n            } catch (error) {\n              if (error.code === 4001) {\n                // User rejected request\n              }\n          \n              console.log(error);\n            }\n          } */\n    };\n\n    this.getInput = async () => {\n      let input = await document.getElementById(\"input\").value;\n      this.setState({\n        name: input\n      });\n    };\n\n    this.mintPicture = async () => {\n      if (window.ethereum) {\n        try {\n          const accounts = await window.ethereum.request({\n            method: 'eth_requestAccounts'\n          });\n          this.setState({\n            accounts: accounts\n          });\n          console.log(accounts[0]);\n          alert(accounts[0]);\n        } catch (error) {\n          if (error.code === 4001) {// User rejected request\n          }\n\n          console.log(error);\n        }\n      }\n\n      try {\n        const {\n          accounts,\n          contract,\n          web3\n        } = this.state;\n        const container = document.querySelector(\"#container\");\n        container.style.height = \"200px\";\n        container.style.width = \"200px\";\n        /*     async function doSomething() {\n              let result = await web3.eth.getAccounts()\n              .then((response) => \n              \n              this.setState({accounts:response})\n              )\n              return result ;\n            }\n        \n            doSomething();\n            alert(\"connected to account: \" ,this.state.accounts[0]) */\n        //alert(\"connedted to: \",web3.eth.getAccounts()    );\n\n        html2canvas(container).then(canvas => {\n          let input = document.getElementById(\"input\").value;\n          this.setState({\n            image: canvas.toDataURL(),\n            name: input\n          }, () => {\n            let picString = this.state.image;\n            console.log(picString);\n            console.log(contract.methods.formatTokenURIforOpenSea(name, description, picString).call());\n\n            try {\n              const input = document.querySelector('input');\n              const log = document.getElementById('values');\n              input.addEventListener('input', updateValue);\n\n              function updateValue(e) {\n                log.textContent = e.target.value;\n              }\n\n              let name = this.state.name;\n              let description = \"\";\n              const openSea = new Boolean(false);\n              contract.methods.mint(openSea, name, description, picString).send({\n                from: accounts[0],\n                value: 1000000000000000,\n                picString\n              }) // value in wei\n              .then(function (receipt) {\n                // receipt can also be a new contract instance, when coming from a \"contract.deploy({...}).send()\"\n                alert(\"picture minted!\"); //safe pic to api\n                //console.log(receipt)\n              });\n            } catch (error) {\n              alert(\"please connect to metamask\"); //console.log(error);\n            }\n\n            ;\n          });\n          container.style.height = \"800px\";\n          container.style.width = \"800px\"; // web3.eth.sendTransaction({from:accounts[0], to:'0x433a69a3F84FbfcF32694f871ebd92046Af39ceD', value: web3.toWei(5, \"ether\"), gas:100000});\n        });\n      } catch (error) {\n        alert(\"please connect to metamask\");\n      }\n\n      ;\n    };\n\n    this.state = {\n      colorPicker: \"#ffffff\",\n      width: window.innerWidth,\n      height: window.innerHeight,\n      web3: null,\n      accounts: null,\n      contract: null,\n      image: \"\",\n      name: \"\"\n    };\n    this.width = this.updateDimensions.bind(this);\n    this.height = this.updateDimensions.bind(this);\n    this.web3 = this.componentDidMount.bind(this);\n    this.accounts = this.componentDidMount.bind(this);\n    this.contract = this.componentDidMount.bind(this); //this.name = this.getInput(this);\n  }\n\n  render() {\n    let myWidth = this.state.width * 0.95;\n    /*     const log = document.getElementById('values');\n        let log2 = document.querySelector(\"#nameInput\");\n        console.log(log2) */\n\n    let name = this.state.name;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Appi\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        style: {\n          backgroundColor: \"#101522\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"btn\",\n          class: \"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: 'bold',\n              fontSize: '200%'\n            },\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 179\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '30px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"eraserBtn\",\n          class: \"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: 'bold',\n              fontSize: '200%'\n            },\n            children: \"Eraser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 184\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          valueDefault: \"#00eeff\",\n          id: \"color\",\n          class: \"color\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.connect,\n          children: \"Connect Wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.width < 800 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: myWidth,\n            width: myWidth\n          },\n          className: \"container\",\n          id: \"container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 9\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: \"800px\",\n            width: \"800px\"\n          },\n          className: \"container\",\n          id: \"container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: \"100px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: \"30%\"\n        },\n        id: \"input\",\n        value: name,\n        type: \"text\",\n        onChange: this.getInput,\n        placeholder: \"Name your NFT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button2, {\n        onClick: this.mintPicture,\n        children: \"Mint your artwork\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default Pixelart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Button2\");","map":{"version":3,"names":["React","Component","html2canvas","OnChainNFTContract","getWeb3","styled","Button2","button","Input","input","Pixelart","constructor","props","componentDidMount","web3","accounts","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","setState","contract","error","alert","console","draw","container","document","querySelector","size","color","resetBtn","eraserBtn","colorPicker","value","width","window","innerWidth","height","innerHeight","populate","style","setProperty","i","div","createElement","classList","add","getComputedStyle","getPropertyValue","addEventListener","backgroundColor","appendChild","reset","innerHTML","setColorWhite","updateDimensions","connect","getInput","getElementById","name","mintPicture","ethereum","request","method","log","code","state","then","canvas","image","toDataURL","picString","methods","formatTokenURIforOpenSea","description","call","updateValue","e","textContent","target","openSea","Boolean","mint","send","from","receipt","bind","render","myWidth","fontWeight","fontSize"],"sources":["/home/brate/Desktop/web3_pixelart_full/react_web3_pixelart_creator/client/src/components/startpage/pixelartcreator/Pixelart.js"],"sourcesContent":["import React, { Component } from 'react'\nimport \"./Pixelart.css\"\nimport html2canvas from \"html2canvas\"\nimport OnChainNFTContract from \"../../../contracts/OnChainNFT.json\"\nimport getWeb3 from \"../../../getWeb3\";\nimport styled from \"styled-components\";\n\nconst Button2 = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  background: yellow;\n  font-size: 10em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n  &:hover {\n    color: orange; \n    background: black;}\n\n    @media screen and (max-width: 960px) {\n      font-size: 3em;\n\n    }\n\n`;\nconst Input = styled.input`\n  font-size: 18px;\n  padding: 10px;\n  width:35%;\n  margin: 10px;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n  ::placeholder {\n    color: palevioletred;\n  }\n  &:hover {\n    color: orange; \n  }\n\n  @media screen and (max-width: 960px) {\n    width: 100%;\n  }\n`;\n\nclass Pixelart extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      colorPicker: \"#ffffff\",\n      width: window.innerWidth,\n      height: window.innerHeight,\n      web3: null,\n      accounts: null,\n      contract: null,\n      image: \"\",\n      name:\"\"\n    };\n\n    this.width = this.updateDimensions.bind(this)\n    this.height = this.updateDimensions.bind(this)\n    this.web3 = this.componentDidMount.bind(this);\n    this.accounts = this.componentDidMount.bind(this);\n    this.contract = this.componentDidMount.bind(this);\n    //this.name = this.getInput(this);\n  }\n  componentDidMount = async () => {\n\n    try {\n\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = OnChainNFTContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        OnChainNFTContract.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      // instance.methods.tokenURI(1).call()\n      // .then(res => {\n      //   console.log(res);\n      // });\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState({ web3, accounts, contract: instance }, /* this.runExample */);\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n\n\n    let draw = false\n    let container = document.querySelector('.container')\n    let size = 32\n    const color = document.querySelector('.color')\n    let resetBtn = document.querySelector('#btn')\n    let eraserBtn = document.querySelector('#eraserBtn')\n\n    this.setState({ colorPicker: color.value, width: window.innerWidth, height: window.innerHeight }, () => {\n\n    function populate(size) {\n\n\n        container.style.setProperty('--size', size);\n\n        for (let i = 0; i < size * size; i++) {\n          let div = document.createElement('div')\n          div.classList.add('pixel')\n\n          let colorPicker = getComputedStyle(div)\n            .getPropertyValue('--main-bg-color');\n\n          div.addEventListener('mouseover', function () {\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            if (!draw) return\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n            div.style.setProperty(\"--pixel-bg-color\", color.value);\n          })\n\n          div.addEventListener('mouseover', function () {\n\n            if (getComputedStyle(div)\n              .getPropertyValue('--pixel-bg-color') !== getComputedStyle(div)\n                .getPropertyValue('--main-bg-color')) return\n            div.style.backgroundColor = colorPicker;\n          })\n\n          div.addEventListener('mousedown', function () {\n            div.style.backgroundColor = color.value\n            div.style.setProperty(\"--main-bg-color\", color.value);\n\n          })\n\n\n          container.appendChild(div)\n        }\n      }\n\n      window.addEventListener(\"mousedown\", function () {\n        draw = true\n      })\n      window.addEventListener(\"mouseup\", function () {\n        draw = false\n      })\n\n\n      function reset() {\n        container.innerHTML = ''\n        populate(size)\n      }\n\n      function setColorWhite() {\n        color.value = \"#ffffff\"\n      }\n\n      resetBtn.addEventListener('click', reset)\n      eraserBtn.addEventListener('click', setColorWhite)\n\n      populate(size);\n\n    });\n  }\n\n  updateDimensions = () => {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  };\n\n\n  connect = async () => {\n\n    \n/*     if (window.ethereum) {\n      try {\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        this.setState({accounts: accounts});\n        alert( accounts)\n      } catch (error) {\n        if (error.code === 4001) {\n          // User rejected request\n        }\n    \n        console.log(error);\n      }\n    } */\n\n  }\n\n\n getInput  = async () =>{\n    let input = await document.getElementById(\"input\").value\n    this.setState({name:input});\n  }\n\n\n  mintPicture = async () => {\n\n    if (window.ethereum) {\n      try {\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        this.setState({accounts: accounts});\n        console.log(accounts[0])\n        alert(accounts[0])\n      } catch (error) {\n        if (error.code === 4001) {\n          // User rejected request\n        }\n    \n        console.log(error);\n      }\n    }\n\n  \n\n    try{ \n     \n    const { accounts, contract, web3 } = this.state;\n    const container = document.querySelector(\"#container\");\n    container.style.height = \"200px\";\n    container.style.width = \"200px\";\n\n/*     async function doSomething() {\n      let result = await web3.eth.getAccounts()\n      .then((response) => \n      \n      this.setState({accounts:response})\n      )\n      return result ;\n    }\n\n    doSomething();\n    alert(\"connected to account: \" ,this.state.accounts[0]) */\n\n    //alert(\"connedted to: \",web3.eth.getAccounts()    );\n    html2canvas(container).then((canvas) => {\n      let input = document.getElementById(\"input\").value\n\n      this.setState({ image: canvas.toDataURL(), name:input }, () => {\n        let picString = this.state.image\n       console.log(picString)\n\n       console.log(contract.methods.formatTokenURIforOpenSea(name, description, picString).call());\n\n\n\n  \n\n        try{        \n          const input = document.querySelector('input');\n          const log = document.getElementById('values');\n\n          input.addEventListener('input', updateValue);\n\n          function updateValue(e) {\n            log.textContent = e.target.value;\n          }\n          let name = this.state.name\n          let description = \"\"\n\n          const openSea = new Boolean(false);\n\n        contract.methods.mint(openSea, name, description, picString).send({ from: accounts[0], value: 1000000000000000, picString }) // value in wei\n        .then(function (receipt) {\n          // receipt can also be a new contract instance, when coming from a \"contract.deploy({...}).send()\"\n          alert(\"picture minted!\")\n          //safe pic to api\n          //console.log(receipt)\n\n\n        });}catch(error){\n          alert(\"please connect to metamask\")\n          //console.log(error);\n\n        };\n\n      });\n      container.style.height = \"800px\";\n      container.style.width = \"800px\";\n      // web3.eth.sendTransaction({from:accounts[0], to:'0x433a69a3F84FbfcF32694f871ebd92046Af39ceD', value: web3.toWei(5, \"ether\"), gas:100000});\n    });}catch(error){\n      alert(\"please connect to metamask\")\n    };\n   \n\n\n\n\n  }\n\n\n\n  render() {\n\n    let myWidth = this.state.width * 0.95\n/*     const log = document.getElementById('values');\n    let log2 = document.querySelector(\"#nameInput\");\n    console.log(log2) */\n\n\n    let name = this.state.name\n\n    return <div className=\"Appi\">\n\n      <div className=\"navbar\" style={{ backgroundColor: \"#101522\" }}>\n        <button id=\"btn\" class=\"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\"><p style={{ fontWeight: 'bold', fontSize: '200%' }}>Reset</p></button>\n        <div style={{ width: '30px' }}></div>\n        <button id=\"eraserBtn\" class=\"bg-transparent hover:bg-red-500 text-blue-700 font-semibold hover:text-white py-4 px-10 border border-blue-500 hover:border-transparent rounded\"><p style={{ fontWeight: 'bold', fontSize: '200%' }}>Eraser</p></button>\n        <input type=\"color\" valueDefault=\"#00eeff\" id=\"color\" class=\"color\"></input>\n        <button onClick={this.connect}>Connect Wallet</button>\n        {/* {account != null ? <h1>Connected to Wallet: {account}</h1>: <h1>Wallet not connected</h1>} */}\n      </div>\n\n\n      <p>{this.state.width < 800 ? (\n        <div style={{ height: myWidth, width: myWidth }} className=\"container\" id=\"container\"></div>\n      ) : <div style={{ height: \"800px\", width: \"800px\" }} className=\"container\" id=\"container\"></div>}\n      </p>\n\n      <div style={{ height: \"100px\" }}></div>\n\n        <input style={{width:\"30%\"}}id=\"input\" value={name} type=\"text\" onChange={this.getInput}  placeholder=\"Name your NFT\"/>\n{/*       <Input id=\"nameInput\" type=\"text\" onChange={this.getInput} value={name} placeholder=\"Name your NFT\" />\n */}      \n \n {/* <Input type=\"text\" placeholder=\"Give your NFT a description\" /> */}\n      <Button2 onClick={this.mintPicture}>Mint your artwork</Button2>\n\n    </div>;\n\n  }\n}\n\nexport default Pixelart;         "],"mappings":"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"},"metadata":{},"sourceType":"module"}